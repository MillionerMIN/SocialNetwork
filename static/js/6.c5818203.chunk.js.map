{"version":3,"sources":["hoc/WithAuthRedirect.tsx","components/users/Users.module.scss","components/common/Paginator/Paginator.module.scss","components/common/User/User.module.scss","redux/users-selects.ts","components/common/Paginator/Paginator.tsx","components/common/User/User.tsx","components/users/Users.tsx","components/users/UsersContainer.tsx"],"names":["mapStateToPropsForRiderect","state","isAuth","auth","withAuthRedirect","ChildComp","connect","props","restProps","to","module","exports","getPageSize","usersPage","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFatching","isFatching","getFollowingInProgress","followingInProgress","publishedUsersSelector","createSelector","users","filter","u","Paginator","onPageChange","portionSize","onPageSizeChange","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","lists","arrow","onClick","page","map","index","selectedPage","active","User","user","unFollow","follow","wrapper","avatar","id","src","photos","small","photoUser","alt","name","description","line","text","followed","disabled","some","Users","c","container","UsersContainer","pageNumber","getUsersTC","setCurrentPage","setPageSize","this","Spinner","setFollowingInProgress","React","Component","compose","withRouter"],"mappings":"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","file":"static/js/6.c5818203.chunk.js","sourcesContent":["import React, {  ComponentType } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { AppStateType } from \"../redux/redux-store\";\nimport { connect } from 'react-redux';\n\n\ntype MSTPType = {\n   isAuth: boolean\n}\n\nconst mapStateToPropsForRiderect = (state: AppStateType): MSTPType => {\n   return {\n      isAuth: state.auth.isAuth\n   }\n}\n\nexport function withAuthRedirect <T>(ChildComp: ComponentType<T>) {\n\n   const RedirectComponent = (props: MSTPType)=> {\n      const {isAuth, ...restProps} = props;\n      if (!isAuth) return <Redirect to='/login' />;\n      return <ChildComp {...restProps as T} />\n   }\n   let ConnectedRedirectComponent = connect(mapStateToPropsForRiderect)(RedirectComponent)\n   return ConnectedRedirectComponent;\n}\n   \n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__1hcsa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lists\":\"Paginator_lists__1ADFg\",\"arrow\":\"Paginator_arrow__mGU_b\",\"selectedPage\":\"Paginator_selectedPage__1y9hK\",\"pageSize\":\"Paginator_pageSize__3A3zC\",\"active\":\"Paginator_active__lQDaF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__25Uvx\",\"avatar\":\"User_avatar__25OED\",\"description\":\"User_description__Bn-Ib\",\"line\":\"User_line__3lm0N\",\"text\":\"User_text__29fDt\"};","import { AppStateType } from \"./redux-store\";\nimport { createSelector } from 'reselect'\n\ntype GetUsersType = ReturnType<typeof getUsers>;\ntype GetPageSizeType = ReturnType<typeof getPageSize>;\ntype GetTotalUsersCountType = ReturnType<typeof getTotalUsersCount>;\ntype GetCurrentPageType = ReturnType<typeof getCurrentPage>;\ntype GetIsFatchingType = ReturnType<typeof getIsFatching>;\ntype GetFollowingInProgressType = ReturnType<typeof getFollowingInProgress>\n\nexport type SelectesType = GetUsersType\n  | GetPageSizeType\n  | GetTotalUsersCountType\n  | GetCurrentPageType\n  | GetIsFatchingType\n  | GetFollowingInProgressType\n\nexport const getUsers = (state: AppStateType) => state.usersPage.users;\nexport const getPageSize = (state: AppStateType) => state.usersPage.pageSize;\nexport const getTotalUsersCount = (state: AppStateType) => state.usersPage.totalUsersCount;\nexport const getCurrentPage = (state: AppStateType) => state.usersPage.currentPage;\nexport const getIsFatching = (state: AppStateType) => state.usersPage.isFatching;\nexport const getFollowingInProgress = (state: AppStateType) => state.usersPage.followingInProgress;\n\n//selectors\nexport const publishedUsersSelector = createSelector(\n  getUsers,\n  (users)=>users.filter(u=>true)\n)","import React, { useState } from 'react';\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io';\nimport s from './Paginator.module.scss';\n\ntype PaginatorType = {\n  totalUsersCount: number;\n  pageSize: number;\n  currentPage: number;\n  portionSize?: number;\n  onPageChange: (pageNumber: number) => void;\n  onPageSizeChange: (pageNumber: number, pageSize: number) => void;\n};\n\nexport const Paginator = (props: PaginatorType) => {\n  const {\n    totalUsersCount,\n    pageSize,\n    currentPage,\n    onPageChange,\n    portionSize = 10,\n    onPageSizeChange,\n  } = props;\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  const [portionNumber, setPortionNumber] = useState<number>(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  return (\n    <div>\n      <div className={s.lists}>\n        {portionNumber > 1 && (\n          <IoIosArrowBack\n            className={s.arrow}\n            onClick={() => setPortionNumber(portionNumber - 1)}\n          />\n        )}\n        {pages\n          .filter(\n            (page) =>\n              page >= leftPortionPageNumber && page <= rightPortionPageNumber\n          )\n          .map((page, index) => (\n            <button\n              key={index}\n              className={currentPage === page ? s.selectedPage : ''}\n              onClick={() => onPageChange(page)}\n            >\n              {page}\n            </button>\n          ))}\n        {portionCount > portionNumber && (\n          <IoIosArrowForward\n            className={s.arrow}\n            onClick={() => setPortionNumber(portionNumber + 1)}\n          />\n        )}\n      </div>\n      <div className={s.pageSize}>\n        Page Size:\n        <span\n          onClick={() => onPageSizeChange(1, 5)}\n          className={pageSize === 5 ? s.active : ''}\n        >\n          5\n        </span>\n        <span\n          onClick={() => onPageSizeChange(1, 10)}\n          className={pageSize === 10 ? s.active : ''}\n        >\n          10\n        </span>\n        <span\n          onClick={() => onPageSizeChange(1, 15)}\n          className={pageSize === 15 ? s.active : ''}\n        >\n          15\n        </span>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { NavLink } from 'react-router-dom';\nimport s from './User.module.scss';\nimport photoUser from '../../../image/icons/user.png';\nimport { UserType } from \"../../../api/usersApi\";\n\n\ntype UserPropsType = {\n  user: UserType\n  followingInProgress: number[]\n  follow: (userId: number) => void\n  unFollow: (userId: number) => void\n}\n\nexport const User = (props: UserPropsType) => {\n  const { user, followingInProgress, unFollow, follow } = props\n  return (\n    <div className={s.wrapper}>\n      <div className={s.avatar}>\n        <NavLink to={'/profile/' + user.id}>\n          <img src={user.photos.small !== null ? user.photos.small : photoUser} alt=\"avatar\" />\n        </NavLink>\n        <div>\n          <div>{user.name}</div>\n          <div>{'user.location.country'}</div>\n          <div>{'user.location.city'}</div>\n        </div>\n      </div>\n      <div className={s.description}>\n        <div className={s.line}></div>\n        <div className={s.text}>\n          Hey, I saw your works. I like it! Can we do something together? Or maybe you have project for UX at the moment?\n        </div>\n      </div>\n      {user.followed\n        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n          unFollow(user.id)\n        }}>UNFOLLOW</button>\n        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n          follow(user.id)\n        }}>FOLLOW</button>}\n    </div>\n  )\n}","import React from 'react';\n\nimport s from './Users.module.scss';\nimport c from '../Container.module.scss';\nimport { Paginator } from '../common/Paginator/Paginator';\nimport { User } from '../common/User/User';\nimport { UserType } from '../../api/usersApi';\n\ntype UsersPropsType = {\n  users: UserType[];\n  pageSize: number;\n  totalUsersCount: number;\n  currentPage: number;\n  follow: (userId: number) => void;\n  unFollow: (userId: number) => void;\n  onPageChange: (pageNumber: number) => void;\n  followingInProgress: number[];\n  setFollowingInProgress: (isFatching: boolean, userId: number) => void;\n  onPageSizeChange: (pageNumber: number, pageSize: number) => void\n};\n\nfunction Users(props: UsersPropsType) {\n  const {\n    users,\n    pageSize,\n    totalUsersCount,\n    currentPage,\n    follow,\n    unFollow,\n    onPageChange,\n    followingInProgress,\n    onPageSizeChange,\n  } = props;\n\n  return (\n    <div className={c.container}>\n      <div className={s.users}>\n        <Paginator\n          totalUsersCount={totalUsersCount}\n          pageSize={pageSize}\n          currentPage={currentPage}\n          onPageChange={onPageChange}\n          onPageSizeChange={onPageSizeChange}\n        />\n        <div>\n          {users.map((u) => (\n            <User\n              key={u.id}\n              user={u}\n              followingInProgress={followingInProgress}\n              follow={follow}\n              unFollow={unFollow}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport { Users };\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { AppStateType } from '../../redux/redux-store';\nimport { follow, unFollow, setCurrentPage, setFollowingInProgress, getUsersTC, setPageSize } from '../../redux/users-reducer';\nimport { Spinner } from '../common/Spinner/Spinner';\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect';\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFatching, getFollowingInProgress, publishedUsersSelector } from '../../redux/users-selects';\nimport { UserType } from '../../api/usersApi';\nimport { Users } from './Users';\n\ntype UsersPropsType = {\n  users: UserType[];\n  pageSize: number;\n  totalUsersCount: number;\n  currentPage: number;\n  isFatching: boolean;\n  followingInProgress: number[];\n  follow: (userId: number) => void;\n  unFollow: (userId: number) => void;\n  setCurrentPage: (pageNumber: number) => void;\n  setFollowingInProgress: (isFatching: boolean, userId: number) => void;\n  getUsersTC: (currentPage: number, pageSize: number) => void;\n  getPageSize: (pageNumber: number, pageSize: number) => void\n}\n\ntype MSTP = {\n   users: UserType[]\n   pageSize: number\n   totalUsersCount: number\n   currentPage: number\n   isFatching: boolean\n   followingInProgress: number[]\n}\n\nclass UsersContainer extends React.Component<UsersPropsType> {\n  componentDidMount() {\n    const { getUsersTC, currentPage, pageSize } = this.props;\n    getUsersTC(currentPage, pageSize);\n  }\n\n  onPageChange = (pageNumber: number) => {\n    const { getUsersTC, setCurrentPage, pageSize } = this.props;\n    getUsersTC(pageNumber, pageSize);\n    setCurrentPage(pageNumber);\n    setPageSize(pageSize);\n  };\n\n  onPageSizeChange = (pageNumber: number, pageSize: number) => {\n    const { getUsersTC } = this.props;\n    getUsersTC(pageNumber, pageSize);\n    setPageSize(pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFatching ? <Spinner /> : null}\n        <Users\n          users={this.props.users}\n          pageSize={this.props.pageSize}\n          totalUsersCount={this.props.totalUsersCount}\n          currentPage={this.props.currentPage}\n          follow={this.props.follow}\n          unFollow={this.props.unFollow}\n          onPageChange={this.onPageChange}\n          followingInProgress={this.props.followingInProgress}\n          setFollowingInProgress={this.props.setFollowingInProgress}\n          onPageSizeChange = {this.onPageSizeChange}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppStateType): MSTP => {\n   return {\n      users: publishedUsersSelector(state),\n      pageSize: getPageSize(state),\n      totalUsersCount: getTotalUsersCount(state),\n      currentPage: getCurrentPage(state),\n      isFatching: getIsFatching(state),\n      followingInProgress: getFollowingInProgress(state)\n   }\n}\n\nexport default compose<React.ComponentType>(connect(mapStateToProps,\n   {\n      follow,\n      unFollow,\n      setCurrentPage,\n      setPageSize,\n      setFollowingInProgress,\n      getUsersTC,\n   }),\n   withRouter,\n   withAuthRedirect)(UsersContainer);"],"sourceRoot":""}
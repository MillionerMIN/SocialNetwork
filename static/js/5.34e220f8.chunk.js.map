{"version":3,"sources":["utils/validation/validation.ts","components/common/FormControls/FormControls.tsx","components/common/FormControls/FormControls.module.scss","hoc/WithAuthRedirect.tsx","components/chats/Chats.module.css","components/chats/ChatMessage/ChatMessage.tsx","components/chats/DialogsItem/DialogItem.tsx","components/chats/Chats.tsx","components/chats/ChatsContainer.tsx"],"names":["required","value","maxLengthCreate","maxLength","length","FormControls","props","meta","error","touched","children","hasError","className","s","Textarea","input","restProps","Input","FormError","createField","name","placeholder","component","validate","text","module","exports","mapStateToPropsForRiderect","state","isAuth","auth","withAuthRedirect","ChildComp","connect","to","ChatMessage","message","DialogsItem","id","path","dialog","activeClassName","active","prof","src","alt","subtitle","subtext","maxLength50","AddNewMessagesRedux","reduxForm","form","writeMessages","onSubmit","handleSubmit","Field","Chats","sendMessageAC","dialogElements","map","c","chatMessageElement","chats","m","container","dialogs","visitors","title","visitor","header","messages","values","ChatsContainer","this","Component","compose","chatsPage","withRouter"],"mappings":"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","file":"static/js/5.34e220f8.chunk.js","sourcesContent":["export const required = (value: any) => {\n   if (value) return undefined;\n   return 'Field is required';\n}\n\nexport const maxLengthCreate = (maxLength: number) => (value: any) => {\n   if (value && value.length > maxLength) return `Max length ${maxLength} symbels`;\n   return undefined;\n}","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport s from './FormControls.module.scss'\n\nconst FormControls = (props: any) => {\n   const { meta:{error, touched}, children } = props;\n   const hasError = error && touched\n   return (\n      <div className={hasError ? s.error : ''}>\n         {children}\n         {hasError && <span>{error}</span>}\n      </div>\n   );\n}\n\nexport const Textarea = (props: any) => {\n   const { input, ...restProps } = props;\n   return <FormControls {...props}><textarea {...input} {...restProps} /></FormControls>\n}\n\nexport const Input = (props: any) => {\n   const { input, meta, ...restProps } = props;\n   return <FormControls {...props}><input {...input} {...restProps} /></FormControls>\n}\n\nexport const FormError = (props: any) => {\n   return <FormControls {...props}><div {...props}>{props.error}</div></FormControls>\n}\n\nexport const createField = (name: string, placeholder: string | null, component = {}, validate: {}, props?: any, text='') => {\n   return <Field\n      name={name}\n      placeholder={placeholder}\n      component={component}\n      validate={validate}\n      {...props}\n      {...text}\n   />\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControls_error___hLaz\"};","import React, {  ComponentType } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { AppStateType } from \"../redux/redux-store\";\nimport { connect } from 'react-redux';\n\n\ntype MSTPType = {\n   isAuth: boolean\n}\n\nconst mapStateToPropsForRiderect = (state: AppStateType): MSTPType => {\n   return {\n      isAuth: state.auth.isAuth\n   }\n}\n\nexport function withAuthRedirect <T>(ChildComp: ComponentType<T>) {\n\n   const RedirectComponent = (props: MSTPType)=> {\n      const {isAuth, ...restProps} = props;\n      if (!isAuth) return <Redirect to='/login' />;\n      return <ChildComp {...restProps as T} />\n   }\n   let ConnectedRedirectComponent = connect(mapStateToPropsForRiderect)(RedirectComponent)\n   return ConnectedRedirectComponent;\n}\n   \n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Chats_dialogs__2GvFQ\",\"visitors\":\"Chats_visitors__1Bfy-\",\"title\":\"Chats_title__BrhsI\",\"visitor\":\"Chats_visitor__M_EeB\",\"dialog\":\"Chats_dialog__2yYzs\",\"prof\":\"Chats_prof__In-wj\",\"chats\":\"Chats_chats__2haAl\",\"subtitle\":\"Chats_subtitle__3kTJX\",\"active\":\"Chats_active__RjrQX\",\"subtext\":\"Chats_subtext__1nzVG\",\"header\":\"Chats_header__2raCN\",\"writeMessages\":\"Chats_writeMessages__3Gpl4\"};","import React from \"react\";\nimport { ChatMessageType } from \"../../../redux/chats-reducer\";\n\nexport function ChatMessage({ message}: ChatMessageType) {\n    return <div>{message}</div>\n}","import React from \"react\";\nimport s from \"../Chats.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\n\ntype DialogsItemPropsType = {\n    name: string\n    id: number\n    text: string\n}\n\nexport function DialogsItem(props: DialogsItemPropsType) {\n    const { name, id, text } = props\n    let path = '/chats/' + id;\n    return <div className={s.dialog}>\n        <NavLink to={path} activeClassName={s.active} className={s.prof}>\n            <img src=\"https://static-s.aa-cdn.net/img/gp/20600007187994/ytM4AkndmSigMvuUChoY1JuV1VtjoBrbMm2E-B0f9q19lVJ633gm6_-Oexe1PPaHCG0=s300?v=1\" alt=\"ava\" />\n            <div className={s.subtitle}>{name}</div>\n            <p className={s.subtext}>{text}</p>\n        </NavLink>\n    </div>\n}\n\n\n\n\n\n","import React from 'react';\nimport { ChatsPageType } from '../../redux/store';\nimport { ChatMessage } from './ChatMessage/ChatMessage';\nimport { DialogsItem } from \"./DialogsItem/DialogItem\";\n//import css\nimport c from '../Container.module.scss';\nimport s from './Chats.module.css';\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\nimport { ChatMessageType } from '../../redux/chats-reducer';\nimport { maxLengthCreate, required } from '../../utils/validation/validation';\nimport { Textarea } from '../common/FormControls/FormControls';\n\ntype ChatsPropsType = {\n    state: ChatsPageType\n    isAuth: boolean\n    sendMessageAC: (message: string) => void\n    onNewMessageChange: (body: any) => void\n}\n\nfunction Chats(props: ChatsPropsType) {\n    const { state, sendMessageAC } = props;\n\n    let dialogElements = state.dialog.map(c => <DialogsItem key={c.id} name={c.name} id={c.id} text={c.text} />)\n    let chatMessageElement = state.chats.map(m => <ChatMessage key={m.id} id={m.id} message={m.message} />)\n\n    let addNewMessage = (values: any) => {\n        sendMessageAC(values.message)\n    }\n\n    return (\n        <div className={c.container}>\n            <div className={s.dialogs}>\n                <div className={s.visitors}>\n                    <div className={s.title}>Chats</div>\n                    <div className={s.visitor}>\n                        {dialogElements}\n                    </div>\n                </div>\n                <div className={s.chats}>\n                    <div className={s.header}>Chat with Kyle Fisher</div>\n                    <div className={s.messages}>\n                        {chatMessageElement}\n                    </div>\n                    <AddNewMessagesRedux onSubmit={addNewMessage} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nconst maxLength50 = maxLengthCreate(50)\n\nconst AddNewMessages: React.FC<InjectedFormProps<ChatMessageType>> = (props) => {\n    return (\n        <form className={s.writeMessages} onSubmit={props.handleSubmit}>\n            <Field component={Textarea}\n                name='message'\n                validate={[required, maxLength50]}\n                placeholder='Enter your message'>\n            </Field>\n            <button>Send</button>\n        </form>\n    )\n}\n\nconst AddNewMessagesRedux = reduxForm<ChatMessageType>({ form: 'dialogAddMessageForm' })(AddNewMessages)\nexport default Chats;","import { sendMessageAC } from '../../redux/chats-reducer';\nimport Chats from './Chats';\nimport { connect } from 'react-redux';\nimport { AppStateType } from '../../redux/redux-store';\nimport { Component } from 'react';\nimport { withAuthRedirect } from '../../hoc/WithAuthRedirect';\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\n\n\nclass ChatsContainer extends Component {\n    render() {\n        //@ts-ignore\n        return <Chats {...this.props} />\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        state: state.chatsPage,\n    }\n}\n\nexport default compose<React.ComponentType>(\n    connect(mapStateToProps, { sendMessageAC, }),\n    withRouter,\n    withAuthRedirect\n)(ChatsContainer);\n"],"sourceRoot":""}
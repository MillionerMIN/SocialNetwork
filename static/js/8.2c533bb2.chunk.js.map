{"version":3,"sources":["img/icons/user.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Posts/Sidebar/ProfileUser/ProfileUser.module.scss","img/profile/ProfileImg.jpg","components/Posts/Sidebar/ProfileUser/ProfileUser.tsx","components/Posts/Sidebar/ProfileUser/ProfileUserContainer.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileUser","props","profile","status","updateStatus","useState","editMode","setEditMode","newStatus","setNewStatus","useEffect","console","log","className","s","bg","src","profileBg","alt","photo","photos","large","profilePhoto","title","fullName","onDoubleClick","descr","onChange","e","currentTarget","onBlur","autoFocus","Spinner","ProfileUserContainer","profileId","this","match","params","userId","id","getProfileTC","getStatusTC","prevProps","prevState","setState","state","updateStatusTC","React","Component","compose","connect","profilePage","auth","withRouter"],"mappings":"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","file":"static/js/8.2c533bb2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.62bc9fd6.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileUser_profile__3reBe\",\"bg\":\"ProfileUser_bg__cric7\",\"photo\":\"ProfileUser_photo__2wLKu\",\"title\":\"ProfileUser_title__1emXh\",\"descr\":\"ProfileUser_descr__A7Ceb\",\"status\":\"ProfileUser_status__3aznk\"};","export default __webpack_public_path__ + \"static/media/ProfileImg.02b58e00.jpg\";","import React, { useState, useEffect } from \"react\";\nimport s from './ProfileUser.module.scss';\nimport profileBg from '../../../../img/profile/ProfileImg.jpg'\nimport profilePhoto from '../../../../img/icons/user.png'\nimport { ProfileType } from \"../../../../redux/profile-reducer\";\nimport { Spinner } from \"../../../common/Spinner/Spinner\";\n\ntype ProfileUserPropsType = {\n   profile: null | ProfileType\n   status: string\n   updateStatus: (status: string) => void\n}\n\nconst ProfileUser = (props: ProfileUserPropsType) => {\n\n   const { profile, status, updateStatus } = props;\n\n   const [editMode, setEditMode] = useState<boolean>(false);\n   const [newStatus, setNewStatus] = useState<string>(status);\n\n   useEffect(() => {\n      console.log('useEffect status');\n      \n      setNewStatus(status)\n   }, [status])\n\n\n   const activatedEditMod = () => {\n      setEditMode(true);\n   }\n\n   const diactivedEditModEditMod = () => {\n      setEditMode(false);\n      updateStatus(newStatus);\n\n   }\n\n   let onChangeStatus = (e: React.ChangeEvent<HTMLInputElement>) => {\n      setNewStatus(e.currentTarget.value);\n   }\n\n   if (!profile) {\n      return <Spinner />\n   }\n   return <div className={s.profile}>\n      <img className={s.bg} src={profileBg} alt=\"profileImg\" />\n      <div>\n         <img className={s.photo} src={profile.photos.large !== null ? profile.photos.large : profilePhoto} alt=\"userPhoto\" />\n      </div>\n      <div className={s.title}>{props.profile?.fullName}</div>\n      {!editMode &&\n         <span onDoubleClick={activatedEditMod} className={s.descr}>{status || '---'}</span>\n      }\n      {editMode &&\n         <input onChange={onChangeStatus}\n            onBlur={diactivedEditModEditMod} autoFocus className={s.descr} value={newStatus} />\n      }\n   </div>\n}\n\nexport {\n   ProfileUser\n}","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { ProfileUser } from \"./ProfileUser\";\nimport { ProfileType, getProfileTC, getStatusTC, updateStatusTC } from '../../../../redux/profile-reducer';\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport { AppStateType } from \"../../../../redux/redux-store\";\nimport { compose } from \"redux\";\n\ntype ProfileUserPropsType = {\n   \n}\n\ntype MapStateToPropsType = {\n   profile: null | ProfileType\n   status: string\n   id: number | null\n}\n\ntype MapDispatchToPropsType = {\n   getProfileTC: (userId: number) => void\n   getStatusTC: (userId: number) => void\n   updateStatusTC: (status: string) => void\n}\n\nclass ProfileUserContainer extends React.Component<RouteComponentProps<any> & ProfileUserPropsType & MapStateToPropsType & MapDispatchToPropsType> {\n   componentDidMount() {\n      let profileId = this.props.match.params.userId\n      if (!profileId) {\n         profileId = this.props.id\n      }\n\n      this.props.getProfileTC(profileId)\n      this.props.getStatusTC(profileId)\n   }\n \n   componentDidUpdate(prevProps: any, prevState: any){\n      if(prevProps.status !== this.props.status){\n         this.setState({state: this.props.status})\n      }\n      console.log('componentDidUpdate');\n   }\n   render() {\n      console.log('render');\n      \n      return <ProfileUser {...this.props}\n         profile={this.props.profile}\n         status={this.props.status} \n         updateStatus={this.props.updateStatusTC}/>\n   }\n}\n\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\n   return {\n      profile: state.profilePage.profile,\n      status: state.profilePage.status,\n      id: state.auth.id\n   }\n}\n\n// const connected = connect(mapStateToProps, { getProfileTC, getStatusTC, updateStatusTC })(ProfileUserContainer);\n//  withRouter(connected);\nexport default compose<React.ComponentType>(\n   connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, { getProfileTC, getStatusTC, updateStatusTC }),\n   withRouter\n)(ProfileUserContainer)"],"sourceRoot":""}